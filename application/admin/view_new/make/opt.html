<!--
静态页面生成选项页
【控制器】Make::opt()
【功能】显示静态页面生成选项，包含视频/文章分类、专题、自定义标签页、Sitemap等生成入口
-->
{include file="../../../application/admin/view_new/public/head" /}

<!-- 页面主容器 -->
<div class="page-container p10">

    <!-- 生成选项表单 -->
    <form class="layui-form layui-form-pane" method="post" action="" id="form1">
        <div id="movementTable">

            <!-- 视频分类生成区域 -->
            <div class="layui-form-item">
                <label class="layui-form-label">{:lang('vod')}{:lang('type')}：</label>
                <div class="flex  max-md:flex-row-reverse">
                    <!-- 视频分类多选框 -->
                    <div class="layui-input-inline">
                        <select name="vodtype[]" multiple style="width:150px;height:150px;" lay-ignore>
                            {volist name="$vod_type_list" id="vo"}
                            <option value="{$vo.type_id}">{$vo.type_name}</option>
                            {/volist}
                        </select>
                    </div>
                    <!-- 视频生成操作按钮 -->
                    <div class="layui-input-inline w300">
                        <div class="layui-btn-container">
                            <input type="button" value="{:lang('admin/make/select_type')}"
                                class="layui-btn" onclick="post('ac=type&tab=vod');" />
                            <input type="button" value="{:lang('admin/make/all_type')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=type&tab=vod&vodtype={$vod_type_ids}');" />
                            <input type="button" value="{:lang('admin/make/today_type')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=type&tab=vod&vodtype={$vod_type_ids_today}&ac2=day');" />
                            <input type="button" value="{:lang('admin/make/select_info')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=info&tab=vod');" />
                            <input type="button" value="{:lang('admin/make/all_info')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=vod&vodtype={$vod_type_ids}');" />
                            <input type="button" value="{:lang('admin/make/today_info')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=vod&vodtype={$vod_type_ids_today}&ac2=day');" />
                            <input type="button" value="{:lang('admin/make/no_make_info')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=info&tab=vod&ac2=nomake');" />
                            <input type="button" value="{:lang('admin/make/one_today')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=vod&vodtype={$vod_type_ids_today}&ac2=day&jump=1');" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- 文章分类生成区域 -->
            <div class="layui-form-item">
                <label class="layui-form-label">{:lang('art')}{:lang('type')}：</label>
                <div class="flex  max-md:flex-row-reverse">
                    <!-- 文章分类多选框 -->
                    <div class="layui-input-inline">
                        <select name="arttype[]" multiple style="width:150px;height:150px;" lay-ignore>
                            {volist name="$art_type_list" id="vo"}
                            <option value="{$vo.type_id}">{$vo.type_name}</option>
                            {/volist}
                        </select>
                    </div>
                    <!-- 文章生成操作按钮 -->
                    <div class="layui-input-inline w300">
                        <div class="layui-btn-container">
                            <input type="button" value="{:lang('admin/make/select_type')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=type&tab=art');" />
                            <input type="button" value="{:lang('admin/make/all_type')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=type&tab=art&arttype={$art_type_ids}');" />
                            <input type="button" value="{:lang('admin/make/today_type')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=type&tab=art&arttype={$art_type_ids_today}&ac2=day');" />
                            <input type="button" value="{:lang('admin/make/select_info')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=info&tab=art');" />
                            <input type="button" value="{:lang('admin/make/all_info')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=art&arttype={$art_type_ids}');" />
                            <input type="button" value="{:lang('admin/make/today_info')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=art&arttype={$art_type_ids_today}&ac2=day');" />
                            <input type="button" value="{:lang('admin/make/no_make_info')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=info&tab=art&ac2=nomake');" />
                            <input type="button" value="{:lang('admin/make/one_today')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=info&tab=art&arttype={$art_type_ids_today}&ac2=day&jump=1');" />
                        </div>
                    </div>
                </div>
            </div>

            <hr class="layui-bg-gray">

            <!-- 专题生成区域 -->
            <div class="layui-form-item">
                <label class="layui-form-label">{:lang('admin/make/topic_list')}：</label>
                <div class="flex  max-md:flex-row-reverse">
                    <!-- 专题多选框 -->
                    <div class="layui-input-inline">
                        <select name="topic[]" multiple style="width:150px;height:150px;" lay-ignore>
                            {volist name="$topic_list" id="vo"}
                            <option value="{$vo.topic_id}">{$vo.topic_name}</option>
                            {/volist}
                        </select>
                    </div>
                    <!-- 专题生成操作按钮 -->
                    <div class="layui-input-inline w300">
                        <div class="layui-btn-container">
                            <input type="button" value="{:lang('admin/make/select_topic')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=topic_info');" />
                            <input type="button" value="{:lang('admin/make/all_topic')}"
                                class="layui-btn layui-btn-normal"
                                onclick="post('ac=topic_info&topic={$topic_ids}');" />
                            <input type="button" value="{:lang('admin/make/topic_index')}"
                                class="layui-btn layui-btn-normal" onclick="post('ac=topic_index');" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- 自定义标签页生成区域 -->
            <div class="layui-form-item">
                <label class="layui-form-label">{:lang('admin/make/label_page')}：</label>
                <div class="flex  max-md:flex-row-reverse">
                    <!-- 标签页多选框 (来自label目录) -->
                    <div class="layui-input-inline">
                        <select name="label[]" multiple style="width:150px;height:150px;" lay-ignore>
                            {volist name="$label_list" id="vo"}
                            <option value="{$vo}">{$vo}</option>
                            {/volist}
                        </select>
                    </div>
                    <!-- 标签页生成操作按钮 -->
                    <div class="layui-input-inline w300">
                        <div class="layui-btn-container">
                            <input type="button" value="{:lang('make_page')}" class="layui-btn layui-btn-normal"
                                onclick="post('ac=label   ');">
                            <input type="button" value="{:lang('make_all')}" class="layui-btn layui-btn-normal"
                                onclick="post('ac=label&label={$label_ids}');">
                        </div>
                    </div>
                </div>
            </div>

            <hr class="layui-bg-gray">

            <!-- SiteMap/RSS生成区域 -->
            <div class="layui-form-item">
                <label class="layui-form-label">SiteMap：</label>
                <div class="wfull">
                    <!-- 各搜索引擎Sitemap生成按钮 -->
                    <div class="layui-btn-container">
                        <input type="button" value="{:lang('admin/make/rss')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=index');">
                        <input type="button" value="{:lang('admin/make/google')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=google');">
                        <input type="button" value="{:lang('admin/make/baidu')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=baidu');">
                        <input type="button" value="{:lang('admin/make/so')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=so');">
                        <input type="button" value="{:lang('admin/make/sogou')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=sogou');">
                        <input type="button" value="{:lang('admin/make/bing')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=bing');">
                        <input type="button" value="{:lang('admin/make/sm')}" class="layui-btn layui-btn-normal"
                            onclick="post('ac=rss&ac2=sm');">
                    </div>
                </div>
            </div>

            <!-- Sitemap页数设置 -->
            <div class="layui-form-item">
                <label class="layui-form-label">{:lang('admin/make/make_page_num')}：</label>
                <div class="layui-input-inline w200">
                    <input type="text" name="ps" class="layui-input" placeholder="" value="1" />
                </div>
            </div>
        </div>

    </form>

</div>

{include file="../../../application/admin/view_new/public/foot" /}

<script type="text/javascript">
    // 生成操作URL基础路径
    var curUrl = "{:url('make')}";
    layui.use(['form', 'layer'], function () {
        var form = layui.form
            , layer = layui.layer;


    });

    /**
     * 提交生成表单
     * @param p 额外参数字符串，如 'ac=type&tab=vod'
     */
    function post(p) {
        // 设置表单action并提交
        $("#form1").attr("action", curUrl + "?" + p);
        $("#form1").submit();
    }
</script>
</body>

</html>