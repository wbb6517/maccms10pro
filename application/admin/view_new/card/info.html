<!--
批量生成充值卡页面 (Card Generate View)
============================================================

【页面说明】
后台 "用户 → 充值卡" 的批量生成页面
用于批量生成指定数量的充值卡

【控制器方法】
Card::info() - application/admin/controller/Card.php

【访问路径】
GET/POST admin.php/card/info

【表单字段】
┌──────────┬───────────┬─────────────────────────────────┐
│ 字段名    │ 名称       │ 说明                             │
├──────────┼───────────┼─────────────────────────────────┤
│ num      │ 生成数量   │ 一次最多生成9999张               │
│ money    │ 面值       │ 卡面显示金额，用于销售定价       │
│ point    │ 积分值     │ 用户使用后获得的积分             │
│ role_no  │ 卡号规则   │ 空=混合, letter=纯字母, num=纯数字│
│ role_pwd │ 密码规则   │ 空=混合, letter=纯字母, num=纯数字│
└──────────┴───────────┴─────────────────────────────────┘

【生成规则】
- 卡号：16位随机字符
- 密码：8位随机字符
- 同一批次生成时间相同，便于筛选

【前端验证】
- 生成数量：必填
- 面值：必填
- 积分值：必填

============================================================
-->
{include file="../../../application/admin/view_new/public/head" /}
<div class="page-container p10">
    <form class="layui-form layui-form-pane" method="post" action="" id="movementTable">
        <input id="link_id" name="link_id" type="hidden" value="{$info.link_id}">
        <div class="layui-form-item">
            <label class="layui-form-label">{:lang('admin/card/make_num')}：</label>
            <div class="layui-input-block">
                <input type="text" class="layui-input" value="10" lay-verify="num" placeholder="" name="num">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">{:lang('money')}：</label>
            <div class="layui-input-block">
                <input type="text" class="layui-input" value="" lay-verify="money" placeholder="" name="money">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">{:lang('points')}：</label>
            <div class="layui-input-block">
                <input type="text" class="layui-input" value="" lay-verify="point" placeholder="" name="point">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">{:lang('card_no')}{:lang('rule')}：</label>
            <div class="layui-input-block">
                <input type="radio" name="role_no" value="" title="{:lang('mixing')}" checked>
                <input type="radio" name="role_no" value="letter" title="{:lang('abc')}" >
                <input type="radio" name="role_no" value="num" title="{:lang('number')}" >
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">{:lang('pass')}{:lang('rule')}：</label>
            <div class="layui-input-block">
                <input type="radio" name="role_pwd" value="" title="{:lang('mixing')}" checked>
                <input type="radio" name="role_pwd" value="letter" title="{:lang('abc')}" >
                <input type="radio" name="role_pwd" value="num" title="{:lang('number')}" >
            </div>
        </div>

        <div class="layui-form-item center">
            <div class="layui-input-block">
                <button type="submit" class="layui-btn" lay-submit="" lay-filter="formSubmit" data-child="true">{:lang('btn_save')}</button>
                <button class="layui-btn layui-btn-primary" type="reset">{:lang('btn_reset')}</button>
            </div>
        </div>
    </form>

</div>
{include file="../../../application/admin/view_new/public/foot" /}

<script type="text/javascript">
    layui.use(['form', 'layer'], function () {
        // 操作对象
        var form = layui.form
                , layer = layui.layer
                , $ = layui.jquery;

        // 验证
        form.verify({
            num: function (value) {
                if (value == "") {
                    return "{:lang('admin/card/please_input_make_num')}";
                }
            },
            money: function (value) {
                if (value == "") {
                    return "{:lang('admin/card/please_input_money')}";
                }
            },
            point: function (value) {
                if (value == "") {
                    return "{:lang('admin/card/please_input_points')}";
                }
            }
        });


    });
</script>

</body>
</html>