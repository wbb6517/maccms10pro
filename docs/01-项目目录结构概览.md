# ThinkPHP 项目目录结构概览

本文档基于苹果CMS v10 Pro项目，详细讲解 ThinkPHP 5.x 的目录结构。

## 项目根目录结构

```
maccms10pro/
├── index.php              # 前台入口文件 (绑定 index 模块)
├── admin.php              # 后台入口文件 (绑定 admin 模块)
├── api.php                # API入口文件 (绑定 api 模块)
├── install.php            # 安装入口文件
│
├── application/           # 【核心】应用目录 - 业务代码所在
├── thinkphp/              # 【核心】框架目录 - ThinkPHP 框架源码
├── extend/                # 扩展类库目录 (自定义类库)
├── vendor/                # Composer 依赖目录
│
├── template/              # 前台模板目录
├── static/                # 静态资源 (CSS/JS/图片)
├── static_new/            # 新版静态资源
├── upload/                # 用户上传文件目录
├── addons/                # 插件目录
├── runtime/               # 运行时目录 (缓存/日志/临时文件)
│
├── .env                   # 环境变量配置 (可选)
├── robots.txt             # 搜索引擎爬虫规则
└── crossdomain.xml        # Flash跨域配置
```

## 入口文件说明

### index.php - 前台入口

```php
// 定义应用常量
define('ROOT_PATH', __DIR__ . '/');
define('APP_PATH', __DIR__ . '/application/');
define('BIND_MODULE', 'index');    // 绑定到 index 模块
define('ENTRANCE', 'index');

// 加载框架引导文件
require __DIR__ . '/thinkphp/start.php';
```

### admin.php - 后台入口

```php
define('BIND_MODULE', 'admin');    // 绑定到 admin 模块
define('ENTRANCE', 'admin');
```

### api.php - API入口

```php
define('BIND_MODULE', 'api');      // 绑定到 api 模块
define('ENTRANCE', 'api');
```

## 目录权限要求

| 目录 | 权限 | 说明 |
|------|------|------|
| `runtime/` | 可写 | 缓存、日志、临时文件 |
| `upload/` | 可写 | 用户上传文件 |
| `application/data/` | 可写 | 应用数据文件 |
| `template/` | 可读 | 模板文件 (生产环境只需可读) |

## 核心目录关系图

```
请求 → 入口文件 (index.php/admin.php/api.php)
         ↓
       thinkphp/start.php (框架引导)
         ↓
       thinkphp/base.php (定义常量、注册自动加载)
         ↓
       application/ (应用目录)
         ├── tags.php → 行为钩子 (app_init, app_begin)
         ├── config.php → 应用配置
         ├── database.php → 数据库配置
         ├── route.php → 路由规则
         └── 模块目录/ → 控制器 → 模型 → 视图
```

## 下一步

- [02-ThinkPHP框架目录详解.md](./02-ThinkPHP框架目录详解.md) - 了解框架核心
- [03-Application应用目录详解.md](./03-Application应用目录详解.md) - 了解业务代码组织